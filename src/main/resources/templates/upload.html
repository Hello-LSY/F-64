<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Image Upscaling Service</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8fafc;
        }
        .container {
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .uploaded-image {
            max-width: 100%;
            height: auto;
            margin-top: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
<!-- ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
<div th:replace="layout/navbar :: fragment"></div>

<!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
<div class="container">
    <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">ğŸ¨ ì´ë¯¸ì§€ ì—…ìŠ¤ì¼€ì¼ë§</h2>

    <!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ í¼ -->
    <form action="/upscale" method="post" enctype="multipart/form-data" onsubmit="return validateForm()">
        <div class="mb-4">
            <label class="block text-gray-700 font-medium">ì´ë¯¸ì§€ ì„ íƒ</label>
            <input type="file" required name="image" accept="image/*" class="w-full p-3 border rounded-lg">
        </div>

        <div class="mb-4 flex items-center">
            <input type="checkbox" id="face_enhance" name="face_enhance" class="w-5 h-5 text-blue-500 border-gray-300 rounded">
            <label for="face_enhance" class="ml-2 text-gray-700">ì–¼êµ´ ê°œì„  ê¸°ëŠ¥ ì‚¬ìš©</label>
        </div>

        <!-- ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸° -->
        <div id="imagePreview" class="hidden">
            <img id="uploadedImage" class="uploaded-image mx-auto" src="#" alt="ë¯¸ë¦¬ë³´ê¸°">
        </div>

        <!-- ì—…ë¡œë“œ ë²„íŠ¼ -->
        <button type="submit" class="w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-lg shadow-md mt-4">
            ğŸš€ ì—…ë¡œë“œ & ì—…ìŠ¤ì¼€ì¼
        </button>

        <a href="/" class="block mt-4 text-center text-gray-600 hover:text-blue-500">ğŸ  í™ˆìœ¼ë¡œ ê°€ê¸°</a>
    </form>
</div>

<!-- ì¶”ê°€ ì„¤ëª… -->
<div class="container mt-5 text-gray-700">
    <h2 class="text-xl font-bold mb-3">ì´ë¯¸ì§€ ì—…ìŠ¤ì¼€ì¼ë§ ì„œë¹„ìŠ¤ë€?</h2>
    <p>AI ê¸°ë°˜ì˜ ì´ë¯¸ì§€ ì—…ìŠ¤ì¼€ì¼ë§ì„ í†µí•´ ì €í™”ì§ˆ ì´ë¯¸ì§€ë¥¼ ê³ í™”ì§ˆë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p>
    <ol class="list-decimal pl-6 mt-3 space-y-2">
        <li>ìœ„ì˜ íŒŒì¼ ì„ íƒ ë²„íŠ¼ì„ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì„¸ìš”.</li>
        <li>íŒŒì¼ í¬ê¸°ëŠ” <strong>1MB ì´í•˜</strong>ì´ë©°, íŒŒì¼ëª…ì— <strong>í•œê¸€,ê³µë°±</strong>ì´ ì—†ì–´ì•¼í•©ë‹ˆë‹¤.</li>
        <li><strong>"ì—…ë¡œë“œ & ì—…ìŠ¤ì¼€ì¼"</strong> ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³€í™˜ì„ ì‹œì‘í•˜ì„¸ìš”.</li>
        <li>ì²˜ë¦¬ ì™„ë£Œ í›„ ë³€í™˜ëœ ì´ë¯¸ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤.</li>
        <li>ë³€í™˜ ê²°ê³¼ê°€ ë³´ì´ì§€ ì•Šìœ¼ë©´ <strong>F5(ìƒˆë¡œê³ ì¹¨)</strong>ì„ ëˆŒëŸ¬ ê°±ì‹ í•˜ì„¸ìš”.</li>
    </ol>
    <p class="mt-4">ë¬¸ì˜ ì‚¬í•­ì´ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”. â˜ 010-xxxx-xxxx</p>
</div>

<script>
    function validateForm() {
        const fileInput = document.querySelector('input[type="file"]');
        if (!fileInput.files.length) {
            alert("íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
            return false;
        }
        const fileSize = fileInput.files[0].size;
        const fileName = fileInput.files[0].name;

        // ì˜ˆ: 1MB ì´ˆê³¼ or í•œê¸€ì´ë¦„/ê³µë°± ë“± ì²´í¬
        if (fileSize > 1024 * 1024) {
            alert("âŒ íŒŒì¼ í¬ê¸°ëŠ” 1MB ì´í•˜ë¡œ í•´ì£¼ì„¸ìš”.");
            return false;
        }
        return true;
    }

    // íŒŒì¼ ì„ íƒ ì‹œ ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°
    document.querySelector('input[type="file"]').addEventListener('change', function () {
        const reader = new FileReader();
        reader.onload = (e) => {
            document.getElementById('imagePreview').classList.remove('hidden');
            document.getElementById('uploadedImage').setAttribute('src', e.target.result);
        }
        reader.readAsDataURL(this.files[0]);
    });
</script>
</body>
</html>
